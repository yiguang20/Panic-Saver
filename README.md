# Panic Relief App

一款帮助用户应对恐慌发作的 Flutter Android 应用。

## 功能特性

### 🆘 危机模式
- **9步引导流程**：从准备到恢复的完整危机应对指南
- **4-7-8呼吸练习**：带动画的呼吸球，帮助调节呼吸
- **双击翻转**：双击屏幕显示求助信，向他人说明你的状况
- **进度追踪**：清晰的进度指示器显示当前步骤
- **状态持久化**：自动保存当前步骤，重启应用后继续

### 🧘 日常练习模式
- **4种练习类型**：
  - 呼吸练习
  - 身体运动
  - 认知重构
  - 正念冥想
- **滑动覆盖层**：从底部滑出的练习卡片网格

### 🌍 多语言支持
- 支持5种语言：中文、英语、西班牙语、法语、德语
- 一键切换语言
- 自动保存语言偏好

### 🎨 治愈系设计
- **深色主题**：深海军蓝背景，减少视觉刺激
- **柔和色彩**：水蓝色和淡紫色的舒缓配色
- **动画背景**：漂浮的星星和光球营造平静氛围
- **毛玻璃效果**：半透明卡片设计
- **流畅动画**：所有交互都有平滑的过渡效果

### 📳 触觉反馈
- **轻触反馈**：按钮点击、导航切换
- **中等反馈**：步骤转换
- **重触反馈**：双击翻转显示求助信
- **选择反馈**：语言切换

## 技术栈

- **Flutter 3.x**
- **Provider** - 状态管理
- **SharedPreferences** - 本地存储
- **Flutter Localizations** - 国际化支持

## 项目结构

```
lib/
├── core/                    # 核心配置
│   ├── constants/          # 常量定义（颜色、尺寸、动画时长）
│   └── theme/              # 应用主题
├── data/                   # 数据层
│   ├── models/            # 数据模型
│   └── repositories/      # 数据仓库
├── domain/                # 业务逻辑层
│   └── providers/         # 状态管理
└── presentation/          # 表现层
    ├── screens/          # 页面
    ├── widgets/          # 组件
    │   ├── animations/   # 动画组件
    │   ├── common/       # 通用组件
    │   ├── crisis/       # 危机模式组件
    │   ├── help_letter/  # 求助信组件
    │   └── practice/     # 练习模式组件
    └── l10n/            # 本地化文件
```

## 运行应用

### 前置要求
- Flutter SDK 3.0+
- Android Studio / VS Code
- Android 设备或模拟器（API 21+）

### 安装依赖
```bash
cd panic_saver
flutter pub get
```

### 运行应用
```bash
flutter run
```

### 构建 APK
```bash
# Debug APK
flutter build apk --debug

# Release APK
flutter build apk --release
```

## 核心功能说明

### 危机步骤流程
1. **准备** - 找到安全的地方
2. **停止** - 停止当前活动
3. **扎根** - 5-4-3-2-1感官接地技巧
4. **呼吸** - 4-7-8呼吸练习
5. **观察** - 观察身体感受
6. **接纳** - 接纳当前感受
7. **等待** - 等待症状消退
8. **恢复** - 缓慢恢复活动
9. **完成** - 危机已过

### 双击翻转功能
- 在危机卡片上双击屏幕
- 触发气泡扩散动画
- 卡片3D翻转显示求助信
- 求助信用纸质风格设计，向他人说明你的状况

### 状态持久化
- 自动保存当前步骤
- 保存语言偏好
- 应用重启后恢复状态

## 设计理念

这款应用的设计遵循以下原则：

1. **极简主义**：减少认知负担，在危机时刻提供清晰指引
2. **视觉平静**：使用舒缓的颜色和流畅的动画
3. **离线优先**：所有内容本地存储，无需网络连接
4. **无障碍**：大字体、高对比度、清晰的视觉层次
5. **隐私保护**：不收集任何用户数据，完全本地运行

## 开发状态

✅ 已完成：
- ✨ 核心数据模型和常量
- 🌍 多语言支持（5种语言）
- 💾 状态管理和持久化
- 🎨 动画背景和视觉效果
- 🆘 危机模式UI（9步流程）
- 🔄 卡片翻转动画和求助信
- 🧘 练习模式UI
- 🧭 导航和主屏幕
- ⚙️ 应用初始化
- 📳 触觉反馈集成
- ♿ 无障碍优化（语义标签）
- 🛡️ 错误处理和容错
- 📴 离线功能验证

🚧 待完成：
- 📦 Android APK 构建和测试
- 🧪 属性测试（可选）

## 许可证

MIT License

## 致谢

本应用基于《焦虑症与恐惧症手册》的专业指导开发。
